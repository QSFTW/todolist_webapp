(function(t){function e(e){for(var n,i,s=e[0],l=e[1],u=e[2],d=0,p=[];d<s.length;d++)i=s[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&p.push(a[i][0]),a[i]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);c&&c(e);while(p.length)p.shift()();return r.push.apply(r,u||[]),o()}function o(){for(var t,e=0;e<r.length;e++){for(var o=r[e],n=!0,s=1;s<o.length;s++){var l=o[s];0!==a[l]&&(n=!1)}n&&(r.splice(e--,1),t=i(i.s=o[0]))}return t}var n={},a={app:0},r=[];function i(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=t,i.c=n,i.d=function(t,e,o){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(o,n,function(e){return t[e]}.bind(null,n));return o},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var c=l;r.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"034f":function(t,e,o){"use strict";var n=o("64a9"),a=o.n(n);a.a},"29c9":function(t,e,o){"use strict";var n=o("53f3"),a=o.n(n);a.a},"2c0f":function(t,e,o){},"30ba":function(t,e,o){},3366:function(t,e,o){"use strict";var n=o("2c0f"),a=o.n(n);a.a},4482:function(t,e,o){},"53f3":function(t,e,o){},"56d7":function(t,e,o){"use strict";o.r(e);o("cadf"),o("551c"),o("f751"),o("097d");var n=o("2b0e"),a=o("5c96"),r=o.n(a),i=(o("0fae"),o("b079")),s=o.n(i),l=(o("ce8c"),o("bc3a")),u=o.n(l),c=o("4328"),d=o.n(c),p=o("8c4f"),m=o("2f62"),f={state:{username:"",isLoggedin:!1,_id:null,todo:[]},mutations:{set:function(t,e){t.username=e.username,t.isLoggedin=!0,localStorage.auth_token||localStorage.setItem("auth_token",e.auth_token),t._id=e._id,t.todo=e.todo},clear:function(t){t.username="",t.isLoggedin=!1,localStorage.setItem("auth_token",""),t._id=null,t.todo=[]},updateTodo:function(t,e){t.todo=e}},getters:{USERNAME:function(t){return t.username},ID:function(t){return t._id},TODO:function(t){return t.todo},LOGIN:function(t){return t.isLoggedin}},actions:{}};n["default"].use(m["a"]);var h=new m["a"].Store({modules:{user:f}}),b=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("NavMenu"),o("router-view")],1)},g=[],v=(o("6b54"),function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("el-menu",{staticClass:"el-menu-demo",attrs:{mode:"horizontal","background-color":"#a19a97","text-color":"#fff","active-text-color":"#ffd04b",router:!0}},[o("el-menu-item",{attrs:{index:"/public"}},[t._v("Home")]),o("el-menu-item",{attrs:{index:"/personal"}},[t._v("Personal Workspace")]),o("el-menu-item",{directives:[{name:"show",rawName:"v-show",value:!this.$store.getters.LOGIN,expression:"!this.$store.getters.LOGIN"}],attrs:{index:"/login"}},[t._v("Login")]),o("el-menu-item",{directives:[{name:"show",rawName:"v-show",value:!this.$store.getters.LOGIN,expression:"!this.$store.getters.LOGIN"}],attrs:{index:"/Register"}},[t._v("Register")]),o("el-menu-item",{directives:[{name:"show",rawName:"v-show",value:this.$store.getters.LOGIN,expression:"this.$store.getters.LOGIN"}],attrs:{index:"/"},on:{click:t.logout}},[t._v("Logout")])],1)}),w=[],x={name:"NavMenu",methods:{logout:function(){this.$store.commit("clear")}}},y=x,_=o("2877"),S=Object(_["a"])(y,v,w,!1,null,null,null),$=S.exports,D={name:"app",components:{NavMenu:$},mounted:function(){var t=this;localStorage.auth_token&&""!==localStorage.auth_token&&this.$axios.get("/user/auth",{headers:{auth_token:localStorage.auth_token}}).then((function(e){t.$store.commit("set",e.data)}),(function(e){t.$toast.open({message:e.toString(),position:"top-right",type:"error"})}))}},O=D,k=(o("034f"),Object(_["a"])(O,b,g,!1,null,null,null)),T=k.exports,j=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticStyle:{padding:"20px"}},[o("el-form",{ref:"form",staticClass:"el-inner-bg",staticStyle:{width:"600px",margin:"auto",border:"1px solid",padding:"20px"},attrs:{model:t.form,"label-width":"120px","form-width":"600px"}},[o("el-form-item",{attrs:{prop:"email",label:"Email",rules:[{required:!0,message:"Please input email address",trigger:"blur"},{type:"email",message:"Please input correct email address",trigger:["blur","change"]}]}},[o("el-input",{model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1),o("el-form-item",{attrs:{prop:"password",label:"Password",rules:[{required:!0,message:"Please input password",trigger:"blur"}]}},[o("el-input",{attrs:{type:"password"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("Log in")]),o("el-button",[t._v("Cancel")])],1)],1)],1)},C=[],R={name:"Login",data:function(){return{form:{email:"",password:""}}},methods:{onSubmit:function(){var t=this;this.$axios.post("/user/login",this.qs.stringify({email:this.form.email,password:this.form.password})).then((function(e){t.$store.commit("set",e.data),t.$router.push("/"),t.$toast.open({message:"Login SUCCESS!",position:"top-right",type:"success"})}),(function(e){t.$toast.open({message:e,position:"top-right",type:"error"})}))}}},L=R,E=(o("29c9"),Object(_["a"])(L,j,C,!1,null,null,null)),P=E.exports,F=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("el-container",[o("el-header",[o("h1",[t._v("Public Todo List")])]),o("el-main",[o("h3",[t._v("Everyone can add an item on this list!")]),o("div",{staticClass:"center"},[o("ToDoTable")],1)])],1)},N=[],I=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticStyle:{margin:"10px 0px"},attrs:{align:"left"}},[o("el-button",{nativeOn:{click:function(e){e.preventDefault(),t.modalOpen=!0}}},[t._v("Add")]),o("el-dialog",{attrs:{title:"Add new Todo Item",visible:t.modalOpen},on:{"update:visible":function(e){t.modalOpen=e}}},[o("el-form",{attrs:{model:t.todoForm}},[o("el-form-item",{attrs:{label:"Subject","label-width":"120px"}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:t.todoForm.Subject,callback:function(e){t.$set(t.todoForm,"Subject",e)},expression:"todoForm.Subject"}})],1),o("el-form-item",{attrs:{label:"Description","label-width":"120px"}},[o("el-input",{attrs:{placeholder:"Describe your Todo Item"},model:{value:t.todoForm.Description,callback:function(e){t.$set(t.todoForm,"Description",e)},expression:"todoForm.Description"}})],1)],1),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){return t.addRowCancel(t.todoForm)}}},[t._v("Cancel")]),o("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.addRow(t.todoForm)}}},[t._v("Confirm")])],1)],1)],1),o("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,"max-height":"100%",margin:"auto"}},[o("el-table-column",{attrs:{type:"index",width:"50"}}),o("el-table-column",{attrs:{prop:"Subject",label:"Subject",width:"120"}}),o("el-table-column",{attrs:{prop:"Description",label:"Description",width:"360"}}),o("el-table-column",{attrs:{label:"Operations",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(o){return o.preventDefault(),t.deleteRow(e.$index,t.tableData)}}},[t._v("Remove")]),o("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(o){return o.preventDefault(),t.editRow(e.$index,t.tableData)}}},[t._v("Edit")])]}}])})],1)],1)},q=[],U={name:"ToDoTable",data:function(){return{modalOpen:!1,todoForm:{_id:-1,Subject:"",Description:""},tableData:[]}},created:function(){var t=this;this.$axios.get("/todo/getAll").then((function(e){t.tableData=e.data}),(function(t){alert(t)}))},methods:{deleteRow:function(t,e){var o=e[t];e.splice(t,1),this.$axios.get("/todo/delete/"+o._id).then((function(t){}),(function(t){alert(t)}))},editRow:function(t,e){var o=this;this.$prompt("Please describe the todo item",e[t].Subject,{confirmButtonText:"OK",cancelButtonText:"Cancel"}).then((function(n){var a=n.value;e[t].Description=a;var r=e[t]._id;o.$axios.post("/todo/editDescription/"+r,o.qs.stringify({Description:a})).then((function(t){}),(function(t){alert(t)})),o.$message({type:"success",message:"Description edited successfully"})})).catch((function(){o.$message({type:"info",message:"Edit canceled"})}))},addRowCancel:function(t){t.Subject="",t.Description="",this.modalOpen=!1},addRow:function(t){var e=t.Subject,o=t.Description;this.tableData.unshift({Subject:e,Description:o}),t.Subject="",t.Description="",this.modalOpen=!1,this.$axios.post("/todo/add",this.qs.stringify({Subject:e,Description:o})).then((function(t){}),(function(t){alert(t)}))}}},G=U,M=Object(_["a"])(G,I,q,!1,null,null,null),A=M.exports,z={name:"ToDoList",components:{ToDoTable:A},props:{userName:String}},B=z,J=(o("cf4e"),Object(_["a"])(B,F,N,!1,null,null,null)),K=J.exports,H=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[this.$store.getters.LOGIN?t._e():o("h3",[t._v("Please login to access your personal Todo List")]),this.$store.getters.LOGIN?o("el-container",[o("el-header",[o("h1",[t._v("Todo List of "+t._s(this.$store.getters.USERNAME))])]),o("el-main",[o("h3",[t._v("This is your own Todo list! Only you can edit it!")]),o("div",{staticClass:"center"},[o("UserTodoTable")],1)])],1):t._e()],1)},W=[],Y=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticStyle:{margin:"10px 0px"},attrs:{align:"left"}},[o("el-button",{nativeOn:{click:function(e){e.preventDefault(),t.modalOpen=!0}}},[t._v("Add")]),o("el-dialog",{attrs:{title:"Add new Todo Item",visible:t.modalOpen},on:{"update:visible":function(e){t.modalOpen=e}}},[o("el-form",{attrs:{model:t.todoForm}},[o("el-form-item",{attrs:{label:"Subject","label-width":"120px"}},[o("el-input",{attrs:{autocomplete:"off"},model:{value:t.todoForm.Subject,callback:function(e){t.$set(t.todoForm,"Subject",e)},expression:"todoForm.Subject"}})],1),o("el-form-item",{attrs:{label:"Description","label-width":"120px"}},[o("el-input",{attrs:{placeholder:"Describe your Todo Item"},model:{value:t.todoForm.Description,callback:function(e){t.$set(t.todoForm,"Description",e)},expression:"todoForm.Description"}})],1)],1),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(e){return t.addRowCancel(t.todoForm)}}},[t._v("Cancel")]),o("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.addRow(t.todoForm)}}},[t._v("Confirm")])],1)],1)],1),o("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,"max-height":"100%",margin:"auto"}},[o("el-table-column",{attrs:{type:"index",width:"50"}}),o("el-table-column",{attrs:{prop:"Subject",label:"Subject",width:"120"}}),o("el-table-column",{attrs:{prop:"Description",label:"Description",width:"360"}}),o("el-table-column",{attrs:{label:"Operations",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(o){return o.preventDefault(),t.deleteRow(e.$index,t.tableData)}}},[t._v("Remove")]),o("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(o){return o.preventDefault(),t.editRow(e.$index,t.tableData)}}},[t._v("Edit")])]}}])})],1)],1)},Q=[],V={name:"UserTodoTable",data:function(){return{tableData:[],modalOpen:!1,todoForm:{Subject:"",Description:""}}},methods:{addRowCancel:function(t){t.Subject="",t.Description="",this.modalOpen=!1},addRow:function(t){var e=this,o={Subject:t.Subject,Description:t.Description};t.Subject="",t.Description="",this.modalOpen=!1,this.tableData.unshift(o),this.$store.commit("updateTodo",this.tableData),this.$axios.post("/userTodo/addTodo",this.qs.stringify(o),{headers:{auth_token:localStorage.auth_token}}).then((function(t){e.$toast.open({message:"Item added SUCCESS!",position:"top-right"})}),(function(t){e.$toast.err({message:t.toString(),position:"top-right"})}))},deleteRow:function(t,e){var o=this;e.splice(t,1),this.$store.commit("updateTodo",e),this.$axios.post("/userTodo/updateTodo",this.qs.stringify({todo:e}),{headers:{auth_token:localStorage.auth_token}}).then((function(t){o.$toast.open({message:"Item deleted SUCCESS!",position:"top-right"})}))},editRow:function(t,e){var o=this;this.$prompt("Please describe the todo item",e[t].Subject,{confirmButtonText:"OK",cancelButtonText:"Cancel"}).then((function(n){var a=n.value;e[t].Description=a,o.$store.commit("updateTodo",e),o.$axios.post("/userTodo/updateTodo/",o.qs.stringify({todo:e}),{headers:{auth_token:localStorage.auth_token}}),o.$message({type:"success",message:"Description edited successfully"})})).catch((function(){o.$message({type:"info",message:"Edit canceled"})}))}},created:function(){this.tableData=this.$store.getters.TODO}},X=V,Z=Object(_["a"])(X,Y,Q,!1,null,null,null),tt=Z.exports,et={name:"UserTodoList",data:function(){return{username:"",auth:!1}},components:{UserTodoTable:tt},mounted:function(){this.auth=localStorage.auth_token}},ot=et,nt=(o("3366"),Object(_["a"])(ot,H,W,!1,null,null,null)),at=nt.exports,rt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticStyle:{padding:"20px"}},[o("el-form",{ref:"form",staticClass:"el-inner-bg",staticStyle:{width:"600px",margin:"auto",border:"1px solid",padding:"20px"},attrs:{model:t.form,"label-width":"120px","form-width":"600px"}},[o("el-form-item",{attrs:{prop:"username",label:"Username",rules:[{required:!0,message:"Please input a username",trigger:"blur"},{min:5,max:255,message:"Pleaseenter at least 5 and at most 255 characters",trigger:"blur"}]}},[o("el-input",{model:{value:t.form.username,callback:function(e){t.$set(t.form,"username",e)},expression:"form.username"}})],1),o("el-form-item",{attrs:{prop:"email",label:"Email",rules:[{required:!0,message:"Please input email address",trigger:"blur"},{type:"email",message:"Please input correct email address",trigger:["blur","change"]}]}},[o("el-input",{model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1),o("el-form-item",{attrs:{prop:"password",label:"Password",rules:[{required:!0,message:"Please input password",trigger:"blur"},{min:6,max:1024,message:"Please enter at least 6 and at most 1024 characters",trigger:"blur"}]}},[o("el-input",{attrs:{type:"password"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("Register Now")]),o("el-button",[t._v("Cancel")])],1)],1)],1)},it=[],st={name:"Register",data:function(){return{form:{username:"",email:"",password:""}}},methods:{onSubmit:function(){var t=this;this.$axios.post("/user/register",this.qs.stringify({username:this.form.username,email:this.form.email,password:this.form.password})).then((function(e){t.$router.push("/"),t.$toast.open({message:"Register SUCCESS! You can login with your email now.",position:"top-right",type:"success"})}),(function(e){t.$toast.open({message:e,position:"top-right",type:"success"})}))}}},lt=st,ut=(o("f30e"),Object(_["a"])(lt,rt,it,!1,null,null,null)),ct=ut.exports;u.a.defaults.baseURL="http://localhost:9000",n["default"].prototype.$axios=u.a,u.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8",n["default"].prototype.qs=d.a,n["default"].config.productionTip=!1,n["default"].use(r.a),n["default"].use(s.a);var dt=p["a"].prototype.push;p["a"].prototype.push=function(t){return dt.call(this,t).catch((function(t){return t}))},n["default"].use(p["a"]);var pt=[{path:"/",redirect:"/public"},{path:"/login",component:P,name:"login"},{path:"/register",component:ct,name:"register"},{path:"/public",component:K,name:"todo"},{path:"/personal",component:at,name:"usertodo"}],mt=new p["a"]({mode:"history",routes:pt,base:"/"});new n["default"]({router:mt,store:h,render:function(t){return t(T)}}).$mount("#app")},"64a9":function(t,e,o){},cf4e:function(t,e,o){"use strict";var n=o("4482"),a=o.n(n);a.a},f30e:function(t,e,o){"use strict";var n=o("30ba"),a=o.n(n);a.a}});
//# sourceMappingURL=app.8f2996f8.js.map